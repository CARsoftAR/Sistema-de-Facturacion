{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CARSOFT</title>

  <!-- Google Font Material -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap (Mantener por compatibilidad de clases viejas en contenido main) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- =========================================================== -->
  <!--  REACT ASSETS (Generados por Vite)                         -->
  <!-- =========================================================== -->
  <script type="module" crossorigin src="/static/dist/assets/main-D03SndhC.js"></script>
  <link rel="stylesheet" crossorigin href="/static/dist/assets/main-wJcFqbyK.css">

  <style>
    /* Ajustes para coexistencia Bootstrap + Tailwind/React sidebar */
    body {
      background-color: #f3f4f6;
      /* Light gray background for main content area */
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    #app-container {
      display: flex;
      min-height: 100vh;
    }

    /* El sidebar de React tiene width fijo, reservamos el espacio */
    #sidebar-root {
      width: 0;
      /* Sidebar is fixed, so wrapper should not take space */
      /* 16rem - debe coincidir con w-64 de tailwind */
      flex-shrink: 0;
      background-color: transparent;
    }

    #main-content {
      flex-grow: 1;
      overflow-y: auto;
      height: 100vh;
      padding: 1.5rem;
      /* Balanced spacing */
      background-color: #f8fafc;
    }

    /* Ocultar sidebar en m√≥viles inicialmente o manejar con media queries */
    /* Ocultar sidebar en m√≥viles inicialmente o manejar con media queries */
    @media (max-width: 991.98px) {
      #sidebar-root {
        width: 0;
      }
    }

    /* Ajuste de margen para contenido principal en desktop */
    @media (min-width: 992px) {
      #main-content {
        margin-left: 260px;
        /* Ancho del sidebar */
        transition: margin-left 0.3s ease-in-out;
      }
    }
  </style>

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css">

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

  <div id="app-container">
    <!-- üü¢ REACT SIDEBAR MOUNT POINT -->
    <div id="sidebar-root"></div>

    <!-- üü† MAIN DJANGO CONTENT -->
    <div id="main-content">

      <!-- Topbar simple para usuario (Opcional, ya que el sidebar tiene user info) -->
      <!-- Mantenemos compatibilidad con bloques viejos -->

      {% if messages %}
      <div class="container-fluid mb-4">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
      </div>
      {% endif %}

      {% block content %}{% endblock %}

    </div>
  </div>

  <!-- =========================================================== -->
  <!--                   SCRIPTS GLOBALES                           -->
  <!-- =========================================================== -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- DataTables & Exports -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.bootstrap5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>

  {% block scripts %}{% endblock %}
  {% block modals %}{% endblock %}

</body>

</html>